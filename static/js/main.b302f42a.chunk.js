(this["webpackJsonpinstagram-clone"]=this["webpackJsonpinstagram-clone"]||[]).push([[0],{54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},67:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),s=n(16),o=n.n(s),i=(n(54),n(13)),r=(n(55),n(56),n(93)),l=n(92),u=n(27),j=u.a.initializeApp({apiKey:"AIzaSyDXkZtqwwJwLJomVbQqpm-Dn3Za5GrX3oE",authDomain:"insta-clone-3d888.firebaseapp.com",projectId:"insta-clone-3d888",storageBucket:"insta-clone-3d888.appspot.com",messagingSenderId:"984509391234",appId:"1:984509391234:web:74c8a8ab1d119fa631af9b",measurementId:"G-7YG1WD124E"}).firestore(),d=u.a.auth(),p=u.a.storage(),m=n(5),b=function(e){var t=e.postId,n=e.username,c=e.caption,s=e.imageurl,o=Object(a.useState)([]),u=Object(i.a)(o,2),d=u[0],p=u[1],b=Object(a.useState)(""),f=Object(i.a)(b,2),O=f[0],g=f[1];Object(a.useEffect)((function(){var e;return t&&(e=j.collection("posts").doc(t).collection("comments").onSnapshot((function(e){p(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[t]);return Object(m.jsxs)("div",{className:"post",children:[Object(m.jsxs)("div",{className:"post_header",children:[Object(m.jsx)(r.a,{className:"post_avatar"}),Object(m.jsx)("h4",{children:n})]}),Object(m.jsx)("img",{className:"post_image",src:s,alt:"INSTAGRAM"}),Object(m.jsxs)("h4",{className:"post_caption",children:[" ",Object(m.jsx)("strong",{children:n})," ",c]}),Object(m.jsxs)("div",{className:"comment_sec",children:[console.log(d),d.map((function(e){e.username,e.text}))]}),Object(m.jsxs)("form",{className:"post_comment",children:[Object(m.jsx)("input",{type:"text",className:"comment_inp",placeholder:"Enter a Comment..",value:O,onChange:function(e){return g(e.target.value)}}),Object(m.jsx)(l.a,{disabled:!O,className:"post_button",type:"submit",onClick:function(e){},children:"Post"})]})]})},f=n.p+"static/media/Instagram.dcf5a12d.png",O=n(90),g=n(91),h=function(e){var t=e.username,n=Object(a.useState)(""),c=Object(i.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),d=Object(i.a)(r,2),b=d[0],f=d[1],O=Object(a.useState)(0),g=Object(i.a)(O,2),h=g[0],x=g[1];return Object(m.jsxs)("div",{className:"imageUpload",children:[Object(m.jsx)("progress",{value:h,className:"image_progress",max:"100"}),Object(m.jsx)("input",{type:"text",placeholder:"Enter a Caption",onChange:function(e){return o(e.target.value)}}),Object(m.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&f(e.target.files[0])}}),Object(m.jsx)(l.a,{onClick:function(){p.ref("images/".concat(b.name)).put(b).on("stage_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);x(t)}),(function(e){return console.log(e)}),(function(){p.ref("images").child(b.name).getDownloadURL().then((function(e){j.collection("posts").add({timestamp:u.a.firestore.FieldValue.serverTimestamp(),username:t,imageurl:e,caption:s}),x(0),o(""),f(null)}))}))},children:"Upload"})]})},x=(n(67),n(46));function v(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var N=Object(O.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),S=function(){var e=N(),t=Object(a.useState)(v),n=Object(i.a)(t,1)[0],c=Object(a.useState)([]),s=Object(i.a)(c,2),o=s[0],r=s[1],u=Object(a.useState)(""),p=Object(i.a)(u,2),O=p[0],S=p[1],C=Object(a.useState)(""),y=Object(i.a)(C,2),w=y[0],I=y[1],_=Object(a.useState)(""),A=Object(i.a)(_,2),k=A[0],P=A[1],E=Object(a.useState)(null),T=Object(i.a)(E,2),D=T[0],L=T[1],U=Object(a.useState)(!1),B=Object(i.a)(U,2),G=B[0],M=B[1],F=Object(a.useState)(!1),R=Object(i.a)(F,2),J=R[0],W=R[1];Object(a.useEffect)((function(){var e=d.onAuthStateChanged((function(e){e?(console.log(e),L(e)):L(null)}));return function(){e()}}),[D,O]),Object(a.useEffect)((function(){j.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){r(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]);return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(g.a,{open:G,onClose:function(){return M(!1)},children:Object(m.jsx)("div",{style:n,className:e.paper,children:Object(m.jsxs)("form",{className:"app_signup",children:[Object(m.jsx)("center",{children:Object(m.jsx)("img",{id:"logo",src:f,alt:"INSTAGRAM"})}),Object(m.jsx)("input",{placeholder:"Username",type:"text",value:O,onChange:function(e){return S(e.target.value)}}),Object(m.jsx)("input",{placeholder:"Email",type:"text",value:w,onChange:function(e){return I(e.target.value)}}),Object(m.jsx)("input",{placeholder:"Password",type:"text",value:k,onChange:function(e){return P(e.target.value)}}),Object(m.jsx)(l.a,{type:"submit",onClick:function(e){e.preventDefault(),d.createUserWithEmailAndPassword(w,k).then((function(e){W(!1),e.user.updateProfile({displayName:O})})).catch((function(e){return alert(e.message)}))},children:"SignUp"})]})})}),Object(m.jsx)(g.a,{open:J,onClose:function(){return W(!1)},children:Object(m.jsx)("div",{style:n,className:e.paper,children:Object(m.jsxs)("form",{className:"app_signup",children:[Object(m.jsx)("center",{children:Object(m.jsx)("img",{id:"logo",src:f,alt:"INSTAGRAM"})}),Object(m.jsx)("input",{placeholder:"Email",type:"email",value:w,onChange:function(e){return I(e.target.value)}}),Object(m.jsx)("input",{placeholder:"Password",type:"text",value:k,onChange:function(e){return P(e.target.value)}}),Object(m.jsx)(l.a,{type:"submit",onClick:function(e){e.preventDefault(),d.signInWithEmailAndPassword(w,k).then((function(e){e.user.updateProfile({displayName:O}),W(!1)})).catch((function(e){return alert(e.message)}))},children:"SignIn"})]})})}),Object(m.jsxs)("header",{children:[Object(m.jsx)("img",{id:"logo",src:f,alt:"INSTAGRAM"}),D?Object(m.jsx)(l.a,{onClick:function(){return d.signOut()},children:"Log Out"}):Object(m.jsxs)("div",{className:"app_loginContainer",children:[Object(m.jsx)(l.a,{onClick:function(){return W(!0)},children:"Log In"}),Object(m.jsx)(l.a,{onClick:function(){return M(!0)},children:"Sign Up"})]})]}),Object(m.jsxs)("div",{className:"all_posts",children:[Object(m.jsx)("div",{className:"left_post",children:o.map((function(e){var t=e.id,n=e.post;return Object(m.jsx)(b,{postId:t,username:n.username,caption:n.caption,imageurl:n.imageurl},t)}))}),Object(m.jsx)("div",{className:"right_post",children:Object(m.jsx)(x.a,{url:"https://www.instagram.com/p/B4NWsdXngs6PBmMPEPPJolgXT1iPhroL00Qy_00/",clientAccessToken:"123|456",maxWidth:320,hideCaption:!1,containerTagName:"div",protocol:"",injectScript:!0,onLoading:function(){},onSuccess:function(){},onAfterRender:function(){},onFailure:function(){}})})]}),(null===D||void 0===D?void 0:D.displayName)?Object(m.jsx)(h,{username:D.displayName}):Object(m.jsx)("h3",{children:"You need to login to Upload"})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,95)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),s(e),o(e)}))};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root")),C()}},[[70,1,2]]]);
//# sourceMappingURL=main.b302f42a.chunk.js.map